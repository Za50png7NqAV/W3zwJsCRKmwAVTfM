<body>

<h1>рдмреИрдирд░ / рдкреЛрд╕реНрдЯрд░ рдЧреИрд▓рд░реА </h1>

<div class="search-container">
<form method="post" action="" name="search-form">
  <input type="hidden" name="TimeStamp" class="Advance" id="timestamp-field">
  <input type="hidden" name="use-in" class="advnce" value="Mobile/Desktop">
  
  <input type="text" name="Search" id="searchInput" placeholder="рдЦреЛрдЬреЗрдВ... рдЬреИрд╕реЗ рдЖрдп рдкреНрд░рдорд╛рдг рдкрддреНрд░, рдмрд┐рд╣рд╛рд░, рдЖрджрд┐" />
  <button id="submitBtn" style="margin-left: 5px;">ЁЯФН</button>
</form>
</div>

<div id="categoryContainer"></div>

<!-- Modal -->
<div class="modal" id="imageModal">
  <span class="close" id="closeModal">&times;</span>
  <img id="modalImage" src="" alt="" />
  <div class="modal-buttons">
    <button id="downloadBtn" class="modal-button">ЁЯУе Download</button>
    <button id="shareBtn" class="modal-button">ЁЯУд Share Now </button>
   <button id="printBtn" class="modal-button">ЁЯЦия╕П Print </button>
  </div>
</div>
<script>
    const images = [
  {{- range $index, $img := .Params.images -}}
    {
      src: "{{ $img.src }}",
      title: "{{ $img.title }}",
      category: "{{ $img.category }}"
    }{{ if lt (add $index 1) (len $.Params.images) }},{{ end }}
    {{- end -}}
    
  ];
</script>
 <script type="text/javascript">
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzA_zNbxIRDyx8hjYvfoRm97aM9SM1oKceu8ZYnmFIleTXvO5iULYRaBXn_ecGwN3pJ/exec';
        const form = document.forms['search-form'];
        
        // Set the timestamp automatically
        const timestampField = document.getElementById('timestamp-field');
        const now = new Date();
        const formattedDate = now.toLocaleString('en-GB', {
          day: '2-digit',
          month: '2-digit',
          year: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        }).replace(',', '');
        timestampField.value = formattedDate;
      
        // Handle form submission
        form.addEventListener('submit', e => {
          e.preventDefault();
          fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(() => alert("Thank you! Your form is submitted successfully."))
            .then(() => { window.location.reload(); })
            .catch(error => console.error('Error!', error.message));
        });
      </script>
      

{{ partial "script/baner-update" . }}

<script>
  let typingTimer;
  const doneTypingInterval = 3000; // 3 рд╕реЗрдХрдВрдб
  const input = document.getElementById('searchInput');
  const form = document.forms['search-form'];
  const button = document.getElementById('submitBtn');

  input.addEventListener('input', () => {
    clearTimeout(typingTimer);
    typingTimer = setTimeout(() => {
      // simulate button click
      button.click();
    }, doneTypingInterval);
  });

  input.addEventListener('keydown', () => {
    clearTimeout(typingTimer); // рдЬрдм рднреА рдЯрд╛рдЗрдкрд┐рдВрдЧ рд╣реЛ рд░рд╣реА рд╣реЛ, рдЯрд╛рдЗрдорд░ рд░реАрд╕реЗрдЯ рдХрд░реЛ
  });
</script>
</body>
</html>
